{% extends 'base.html' %}
{% load static %}

{% block content %}


<div class="container">
    <div class="row justify-content-center ">
        <div class="col-lg-12 text-center">
            <h2 class="mb-4">Reset Your Password</h2>
        </div>
        {% if validlink %}

        <form action="." method="post" class="col-lg-5 bg-light p-5 mx-auto">
            {% csrf_token %}
            <div class="form-group">
                {{ form.new_password1.label_tag }}
                <div class="input-group">
                    {{ form.new_password1 }}
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-secondary"
                            onclick="togglePassword('id_new_password1')">
                            <span class="fa fa-eye"></span>
                        </button>
                    </div>
                </div>
                <p style="color: red;">{{ form.new_password1.errors }}</p>

                {{ form.new_password2.label_tag }}
                <div class="input-group">
                    {{ form.new_password2 }}
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-secondary"
                            onclick="togglePassword('id_new_password2')">
                            <span class="fa fa-eye"></span>
                        </button>
                    </div>
                </div>
                <p style="color: red;">{{ form.new_password2.errors }}</p>
            </div>





            <div class="row text-center">
                <div class="col-8 mx-auto text-center">

                    <button type=" submit" class="btn btn-dark my-3">Change Password</button>
                </div>
            </div>
        </form>

        {% else %}
        <p class="mb-5">The password reset link was invalid, possibly because it has
            already been used. Please request a new password reset.</p>
        {% endif %}
    </div>
</div>

<script>
    function togglePassword(inputId) {
        var passwordInput = document.getElementById(inputId);
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
        } else {
            passwordInput.type = "password";
        }
    }
</script>

{% endblock %}